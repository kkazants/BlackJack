<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Blackjack Simulator</title>
    </h:head>
    <h:body>
        <h1>Welcome to Blackjack Simulator!</h1>
        <h:form>
            <h2>Please fill in the information.</h2>
            <p id="top">
                Set the amount of money you would like to start with: $
                <h:inputText 
                    id="playerMoney" 
                    title="Set amount of money" 
                    value="#{play.playerMoney}"
                    />
                <br/>
                Set the bet* amount: $
                <h:inputText
                    id="bet"
                    title="Set the value of bet"
                    value="#{play.bet}"
                    />
                <br/>
                Set the number of hands to play: 
                <h:inputText
                    id="numberOfHands"
                    title="Set number of hands"
                    value="#{play.maxHands}"
                    />
                <br/>
                Select experience level: 
                <h:selectOneRadio value="#{play.playerType}">
                    <f:selectItem itemValue="Beginner" itemLabel="Beginner" />
                    <f:selectItem itemValue="Intermediate" itemLabel="Intermediate" />
                </h:selectOneRadio>
                
                <br/>
                <!--<h:commandButton id="submit" value="Submit" action="response"/>-->
                <h:commandButton id="submit" value="Simulate" actionListener="#{play.play}"/>
            </p>
            <br/>
                *Usual bets are increments of 5.
        </h:form>
        <!-- Start Test -->
        <h:form>
            <h:dataTable value="#{play.res}" var="result">
                <h:column><f:facet name="header">Hand</f:facet>#{result.numberOfHands}</h:column>
                <h:column><f:facet name="header">Bet</f:facet>$#{result.bet}</h:column>
                <h:column><f:facet name="header">Player cards</f:facet>#{result.pCards}</h:column>
                <h:column><f:facet name="header">Players total cards value</f:facet>#{result.tPlayer}</h:column>
                <h:column><f:facet name="header">Dealer cards</f:facet>#{result.dCards}</h:column>
                <h:column><f:facet name="header">Dealers total cards value</f:facet>#{result.tDealer}</h:column>
                <h:column><f:facet name="header">The winner</f:facet>#{result.winner}</h:column>
                <h:column><f:facet name="header">Anyone bust?</f:facet>#{result.over21}</h:column>
                <h:column><f:facet name="header">Total player wins</f:facet>#{result.playerWins}</h:column>
                <h:column><f:facet name="header">Total dealer wins</f:facet>#{result.dealerWins}</h:column>
                <h:column><f:facet name="header">Player winning ratio</f:facet>#{result.winRatio}%</h:column>
                <h:column><f:facet name="header">Money on hand</f:facet>$#{result.money}</h:column>
                
            </h:dataTable>
        </h:form>
        <!-- End Test -->
        <h:form>
            <h3>The Result after #{play.maxHands} hands played.</h3>

            <ui:repeat var="item" value="#{play.results}"><p>#{item}</p></ui:repeat>
            
            <h:commandButton id="reset" value="Reset" action="index"/>
            
        </h:form>
    </h:body>
</html>

